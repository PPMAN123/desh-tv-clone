// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
  relationMode      = "prisma"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        Int       @id @default(autoincrement())
  name      String    @default("")
  email     String    @unique @default("")
  password  String
  createdAt DateTime? @default(now())
}

model Article {
  id                               Int       @id @default(autoincrement())
  slug                             String    @unique @default("") @postgresql.VarChar(380)
  image_filesize                   Int?
  image_extension                  String?
  image_width                      Int?
  image_height                     Int?
  image_id                         String?
  image_data                       String?   @postgresql.Text
  title                            String    @unique @default("")
  translated_date                  DateTime
  created_at                       DateTime  @default(now())
  content                          Json      @default("[{\"type\":\"paragraph\",\"children\":[{\"text\":\"\"}]}]")
  category                         Category? @relation("Article_category", fields: [categoryId], references: [id])
  categoryId                       Int?      @map("category")
  recommendedArticles              Article[] @relation("Article_recommendedArticles")
  from_Article_recommendedArticles Article[] @relation("Article_recommendedArticles")

  @@index([categoryId])
}

model Category {
  id       Int       @id @default(autoincrement())
  name     String    @default("")
  slug     String    @default("")
  articles Article[] @relation("Article_category")
}

model Poll {
  id                    Int      @id @default(autoincrement())
  slug                  String   @unique @default("") @postgresql.VarChar(380)
  image_filesize        Int?
  image_extension       String?
  image_width           Int?
  image_height          Int?
  image_id              String?
  image_data            String?  @postgresql.Text
  title                 String   @unique @default("")
  translated_date       DateTime
  created_at            DateTime @default(now())
  yes_count             Int      @default(0)
  no_count              Int      @default(0)
  no_comment_count      Int      @default(0)
  desh_yes_count        Int?     @default(0)
  desh_no_count         Int?     @default(0)
  desh_no_comment_count Int?     @default(0)
}
